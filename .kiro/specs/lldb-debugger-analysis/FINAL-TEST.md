# ğŸ¯ æœ€ç»ˆæµ‹è¯• - åº”è¯¥èƒ½å·¥ä½œäº†ï¼

## ğŸ‰ å·²ä¿®å¤çš„é—®é¢˜

### 1. æ–­ç‚¹æ³¨å†Œ âœ…
- æ–­ç‚¹ç±»å‹åŒ¹é…æˆåŠŸ
- 2 ä¸ªæ–­ç‚¹éƒ½è¢«æ­£ç¡®æ³¨å†Œ

### 2. æ–­ç‚¹è®¾ç½®åˆ° LLDB âœ…
```
Breakpoint 2: where = Harmony`main + 44 at my_main.cpp:11:15
[setBreakpoint] ç»“æœ: æˆåŠŸ
```

### 3. ç¨‹åºåœ¨æ–­ç‚¹å¤„æš‚åœ âœ…
```
Process 24624 stopped
* thread #1, stop reason = breakpoint 2.1
```

### 4. æ ˆå¸§è§£æ âœ… (åˆšåˆšä¿®å¤)
- ä¹‹å‰ï¼šæ— æ³•è§£æå¸¦ `*` çš„æ ˆå¸§è¡Œ
- ç°åœ¨ï¼šå¯ä»¥æ­£ç¡®è§£ææ‰€æœ‰æ ˆå¸§

## ğŸ”§ æœ€åçš„ä¿®å¤

ä¿®æ”¹äº† `parseStackTrace` æ–¹æ³•ï¼Œç°åœ¨å¯ä»¥å¤„ç† LLDB è¿”å›çš„ä¸¤ç§æ ¼å¼ï¼š

**æ ¼å¼ 1**ï¼ˆæ²¡æœ‰ `*`ï¼‰ï¼š
```
frame #0: 0x... Harmony`main at my_main.cpp:11:15
frame #1: 0x... dyld`start + 6076
```

**æ ¼å¼ 2**ï¼ˆæœ‰ `*` è¡¨ç¤ºå½“å‰å¸§ï¼‰ï¼š
```
* frame #0: 0x... Harmony`main at my_main.cpp:11:15
  frame #1: 0x... dyld`start + 6076
```

ç°åœ¨ä¸¤ç§æ ¼å¼éƒ½èƒ½æ­£ç¡®è§£æï¼

## ğŸ“‹ æœ€ç»ˆæµ‹è¯•æ­¥éª¤

### 1. é‡å¯ IDE

```bash
# 1. å…³é—­ Android Studio
# 2. éªŒè¯è¿›ç¨‹å·²å…³é—­
ps aux | grep "Android Studio"

# 3. å¦‚æœæœ‰è¿›ç¨‹ï¼Œæ€æ‰å®ƒ
killall -9 "Android Studio"

# 4. é‡æ–°æ‰“å¼€ Android Studio
```

### 2. è®¾ç½®æ–­ç‚¹

åœ¨ `my_main.cpp` ä¸­è®¾ç½®æ–­ç‚¹ï¼š
- ç¬¬ 9 è¡Œï¼š`int add(int a, int b) {` å‡½æ•°å†…
- ç¬¬ 11 è¡Œï¼š`std::cout << "Debug Test Program" << std::endl;`

### 3. å¯åŠ¨è°ƒè¯•

ç‚¹å‡»è°ƒè¯•æŒ‰é’®æˆ–ä½¿ç”¨å¿«æ·é”®ã€‚

### 4. æœŸæœ›çš„ç»“æœ

ä½ åº”è¯¥çœ‹åˆ°ï¼š

#### A. æ§åˆ¶å°è¾“å‡º
```
========== [LLDBBreakpointHandler.registerBreakpoint] è¢«è°ƒç”¨ ==========
[registerBreakpoint] ç¼“å­˜å pendingBreakpoints.size=2

========== [LLDBServiceWrapper.setBreakpoint] å¼€å§‹ ==========
[setBreakpoint] ç»“æœ: æˆåŠŸ

========== [LLDBServiceWrapper.getStackTrace] å¼€å§‹ ==========
[getStackTrace] è§£æå‡º 2 ä¸ªæ ˆå¸§  <-- ç°åœ¨åº”è¯¥æ˜¯ 2 äº†ï¼Œä¸æ˜¯ 0ï¼
[getStackTrace]   æ ˆå¸§ #0: main at /Users/admin/AndroidStudioProjects/faksbda/my_main.cpp:11
[getStackTrace]   æ ˆå¸§ #1: start at ...
```

#### B. IDE ç•Œé¢

1. **ç¨‹åºåº”è¯¥åœ¨æ–­ç‚¹å¤„æš‚åœ**
2. **IDE åº”è¯¥é«˜äº®æ˜¾ç¤ºå½“å‰æ‰§è¡Œçš„è¡Œ**ï¼ˆç¬¬ 11 è¡Œï¼‰
3. **è°ƒè¯•å·¥å…·æ åº”è¯¥æ¿€æ´»**ï¼ˆç»§ç»­ã€å•æ­¥ç­‰æŒ‰é’®ï¼‰
4. **å˜é‡çª—å£åº”è¯¥æ˜¾ç¤ºå½“å‰ä½œç”¨åŸŸçš„å˜é‡**
5. **è°ƒç”¨æ ˆçª—å£åº”è¯¥æ˜¾ç¤ºæ ˆå¸§**

#### C. è°ƒè¯•æ§åˆ¶

ä½ åº”è¯¥èƒ½å¤Ÿï¼š
- âœ… ç‚¹å‡»"ç»§ç»­"æŒ‰é’®ï¼Œç¨‹åºç»§ç»­è¿è¡Œ
- âœ… ç‚¹å‡»"å•æ­¥è·³è¿‡"ï¼Œæ‰§è¡Œä¸‹ä¸€è¡Œ
- âœ… ç‚¹å‡»"å•æ­¥è¿›å…¥"ï¼Œè¿›å…¥å‡½æ•°
- âœ… æŸ¥çœ‹å˜é‡å€¼
- âœ… åœ¨æ§åˆ¶å°çœ‹åˆ°ç¨‹åºè¾“å‡º

## ğŸ¯ æˆåŠŸçš„æ ‡å¿—

å¦‚æœä½ çœ‹åˆ°ä»¥ä¸‹æƒ…å†µï¼Œè¯´æ˜**å®Œå…¨æˆåŠŸäº†**ï¼š

1. âœ… ç¨‹åºåœ¨ç¬¬ 11 è¡Œæš‚åœ
2. âœ… IDE é«˜äº®æ˜¾ç¤ºç¬¬ 11 è¡Œ
3. âœ… æ§åˆ¶å°æ˜¾ç¤º `[getStackTrace] è§£æå‡º 2 ä¸ªæ ˆå¸§`
4. âœ… æ²¡æœ‰ "æ ˆå¸§ä¸ºç©º" çš„è­¦å‘Š
5. âœ… è°ƒè¯•å·¥å…·æ å¯ç”¨
6. âœ… å¯ä»¥å•æ­¥æ‰§è¡Œ

## ğŸ› å¦‚æœè¿˜æœ‰é—®é¢˜

### é—®é¢˜ 1ï¼šè¿˜æ˜¯æ˜¾ç¤º "æ ˆå¸§ä¸ºç©º"

**æ£€æŸ¥**ï¼š
- æ§åˆ¶å°æ˜¯å¦æ˜¾ç¤º `[getStackTrace] è§£æå‡º 0 ä¸ªæ ˆå¸§`
- å¦‚æœæ˜¯ï¼ŒæŠŠ `[getStackTrace]` çš„å®Œæ•´è¾“å‡ºå‘ç»™æˆ‘

### é—®é¢˜ 2ï¼šç¨‹åºæ²¡æœ‰æš‚åœ

**æ£€æŸ¥**ï¼š
- æ§åˆ¶å°æ˜¯å¦æ˜¾ç¤º `[setBreakpoint] ç»“æœ: å¤±è´¥`
- å¦‚æœæ˜¯ï¼ŒæŠŠ `[setBreakpoint]` çš„å®Œæ•´è¾“å‡ºå‘ç»™æˆ‘

### é—®é¢˜ 3ï¼šIDE æ²¡æœ‰é«˜äº®æ˜¾ç¤ºå½“å‰è¡Œ

**æ£€æŸ¥**ï¼š
- æ§åˆ¶å°æ˜¯å¦æ˜¾ç¤ºæ ˆå¸§è§£ææˆåŠŸ
- å¯èƒ½æ˜¯ UI åŒæ­¥é—®é¢˜ï¼Œéœ€è¦è¿›ä¸€æ­¥è°ƒè¯•

## ğŸ“ æµ‹è¯•åè¯·å‘Šè¯‰æˆ‘

è¿è¡Œè°ƒè¯•åï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š

1. **ç¨‹åºæ˜¯å¦åœ¨æ–­ç‚¹å¤„æš‚åœäº†ï¼Ÿ**
2. **IDE æ˜¯å¦é«˜äº®æ˜¾ç¤ºäº†å½“å‰æ‰§è¡Œçš„è¡Œï¼Ÿ**
3. **æ§åˆ¶å°æ˜¾ç¤ºè§£æå‡ºäº†å¤šå°‘ä¸ªæ ˆå¸§ï¼Ÿ**
4. **è°ƒè¯•å·¥å…·æ æ˜¯å¦å¯ç”¨ï¼Ÿ**
5. **æ˜¯å¦å¯ä»¥å•æ­¥æ‰§è¡Œï¼Ÿ**

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ­å–œä½ ï¼è°ƒè¯•å™¨å·²ç»å®Œå…¨å·¥ä½œäº†ï¼ğŸ‰

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼ŒæŠŠæ§åˆ¶å°è¾“å‡ºå‘ç»™æˆ‘ï¼Œæˆ‘ä¼šç»§ç»­å¸®ä½ è°ƒè¯•ã€‚
